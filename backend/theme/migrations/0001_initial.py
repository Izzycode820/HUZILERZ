# Generated by Django 6.0 on 2025-12-09 09:57

import django.db.models.deletion
import uuid
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('workspace_core', '0001_initial'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Template',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, help_text='Unique identifier for the template', primary_key=True, serialize=False, verbose_name='Template ID')),
                ('name', models.CharField(db_index=True, help_text='Unique name for the template', max_length=255, unique=True, verbose_name='Template Name')),
                ('slug', models.SlugField(blank=True, help_text='URL-friendly version of the name', max_length=255, unique=True, verbose_name='URL Slug')),
                ('description', models.TextField(blank=True, help_text='Detailed description of the template', verbose_name='Description')),
                ('template_type', models.CharField(choices=[('ecommerce', 'E-commerce'), ('services', 'Services'), ('blog', 'Blog'), ('restaurant', 'Restaurant')], db_index=True, default='ecommerce', help_text='Type of business this template is designed for', max_length=20, verbose_name='Template Type')),
                ('workspace_types', models.JSONField(default=list, help_text="List of compatible workspace types (e.g., ['store', 'services'])", verbose_name='Compatible Workspaces')),
                ('features', models.JSONField(blank=True, default=list, help_text='List of template features from manifest', verbose_name='Features')),
                ('tags', models.JSONField(blank=True, default=list, help_text='Tags for categorization and search', verbose_name='Tags')),
                ('compatibility', models.JSONField(blank=True, default=dict, help_text='Technology compatibility requirements (nextjs, react, etc.)', verbose_name='Compatibility')),
                ('author', models.CharField(blank=True, help_text='Template author or creator', max_length=255, verbose_name='Author')),
                ('license', models.CharField(blank=True, help_text='Template license type', max_length=100, verbose_name='License')),
                ('price_tier', models.CharField(choices=[('free', 'Free'), ('paid', 'Paid'), ('exclusive', 'Exclusive')], db_index=True, default='free', help_text='Pricing category for the template', max_length=20, verbose_name='Price Tier')),
                ('price_amount', models.DecimalField(blank=True, decimal_places=2, help_text='Price in FCFA for paid/exclusive templates', max_digits=10, null=True, verbose_name='Price Amount')),
                ('version', models.CharField(default='1.0.0', help_text='Current version of the template', max_length=20, verbose_name='Version')),
                ('status', models.CharField(choices=[('draft', 'Draft'), ('active', 'Active'), ('deprecated', 'Deprecated')], db_index=True, default='draft', help_text='Current status of the template', max_length=20, verbose_name='Status')),
                ('demo_url', models.URLField(blank=True, help_text='Live demo URL for previewing the template', verbose_name='Demo URL')),
                ('preview_image', models.URLField(blank=True, help_text='Preview image URL from CDN', verbose_name='Preview Image')),
                ('showcase_sections', models.JSONField(blank=True, default=list, help_text='Array of {title, description, image} for theme details page showcase', verbose_name='Showcase Sections')),
                ('view_count', models.PositiveIntegerField(default=0, help_text='Number of times this template has been viewed', verbose_name='View Count')),
                ('download_count', models.PositiveIntegerField(default=0, help_text='Number of times this template has been downloaded', verbose_name='Download Count')),
                ('active_usage_count', models.PositiveIntegerField(default=0, help_text='Number of active workspaces using this template', verbose_name='Active Usage Count')),
                ('puck_config', models.JSONField(default=dict, help_text='Puck configuration schema for user customization', verbose_name='Puck Configuration')),
                ('puck_data', models.JSONField(default=dict, help_text='Puck data containing default page layout and content', verbose_name='Puck Data')),
                ('manifest_url', models.URLField(blank=True, help_text='URL to theme-manifest.json (dev: localhost:3001, prod: CDN)', verbose_name='Manifest URL')),
                ('cdn_base_url', models.URLField(blank=True, help_text='Base URL for CDN assets (e.g., https://cdn.example.com/themes/{slug}/)', verbose_name='CDN Base URL')),
                ('github_repo_owner', models.CharField(blank=True, help_text='GitHub username or organization name', max_length=100, verbose_name='GitHub Repository Owner')),
                ('github_repo_name', models.CharField(blank=True, help_text='Name of the GitHub repository', max_length=100, verbose_name='GitHub Repository Name')),
                ('github_branch', models.CharField(default='main', help_text='Default branch for GitHub operations', max_length=100, verbose_name='GitHub Branch')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_theme_templates', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'theme_templates',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='SyncLog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('sync_type', models.CharField(choices=[('automatic', 'Automatic'), ('manual', 'Manual'), ('rollback', 'Rollback'), ('emergency', 'Emergency')], db_index=True, default='automatic', help_text='Type of sync operation', max_length=20, verbose_name='Sync Type')),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('running', 'Running'), ('completed', 'Completed'), ('failed', 'Failed'), ('cancelled', 'Cancelled')], db_index=True, default='pending', help_text='Current status of the sync operation', max_length=20, verbose_name='Status')),
                ('source_version', models.CharField(help_text='Git commit hash or tag being synced', max_length=100, verbose_name='Source Version')),
                ('target_version', models.CharField(help_text='Version being deployed to CDN', max_length=100, verbose_name='Target Version')),
                ('files_processed', models.PositiveIntegerField(default=0, help_text='Number of files processed during sync', verbose_name='Files Processed')),
                ('total_files', models.PositiveIntegerField(default=0, help_text='Total number of files to process', verbose_name='Total Files')),
                ('progress_percentage', models.PositiveSmallIntegerField(default=0, help_text='Sync progress percentage (0-100)', verbose_name='Progress Percentage')),
                ('cdn_path', models.CharField(blank=True, help_text='Final CDN path where files were deployed', max_length=500, verbose_name='CDN Path')),
                ('git_commit_hash', models.CharField(blank=True, help_text='Git commit hash that was synced', max_length=100, verbose_name='Git Commit Hash')),
                ('git_tag', models.CharField(blank=True, help_text='Git tag that was synced', max_length=100, verbose_name='Git Tag')),
                ('error_message', models.TextField(blank=True, help_text='Error message if sync failed', verbose_name='Error Message')),
                ('error_stack_trace', models.TextField(blank=True, help_text='Full stack trace if sync failed', verbose_name='Error Stack Trace')),
                ('start_time', models.DateTimeField(blank=True, help_text='When the sync operation started', null=True, verbose_name='Start Time')),
                ('end_time', models.DateTimeField(blank=True, help_text='When the sync operation ended', null=True, verbose_name='End Time')),
                ('duration_seconds', models.PositiveIntegerField(default=0, help_text='Total duration of sync in seconds', verbose_name='Duration Seconds')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Created At')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Updated At')),
                ('triggered_by', models.ForeignKey(blank=True, help_text='User who triggered the sync (if manual)', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='triggered_syncs', to=settings.AUTH_USER_MODEL, verbose_name='Triggered By')),
                ('template', models.ForeignKey(help_text='Template being synced', on_delete=django.db.models.deletion.CASCADE, related_name='sync_logs', to='theme.template', verbose_name='Template')),
            ],
            options={
                'verbose_name': 'Sync Log',
                'verbose_name_plural': 'Sync Logs',
                'db_table': 'theme_sync_logs',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='TemplateCategory',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, help_text='Unique identifier for the category', primary_key=True, serialize=False, verbose_name='Category ID')),
                ('name', models.CharField(db_index=True, help_text='Unique name for the category', max_length=255, unique=True, verbose_name='Category Name')),
                ('slug', models.SlugField(blank=True, help_text='URL-friendly version of the category name', max_length=255, unique=True, verbose_name='URL Slug')),
                ('description', models.TextField(blank=True, help_text='Detailed description of the category', verbose_name='Description')),
                ('template_type', models.CharField(blank=True, choices=[('ecommerce', 'E-commerce'), ('services', 'Services'), ('blog', 'Blog'), ('restaurant', 'Restaurant')], db_index=True, help_text='Specific template type this category applies to (optional)', max_length=20, verbose_name='Template Type')),
                ('price_tier_filters', models.JSONField(default=list, help_text="List of price tiers this category includes (e.g., ['free', 'paid'])", verbose_name='Price Tier Filters')),
                ('sort_order', models.PositiveIntegerField(default=0, help_text='Order in which categories are displayed (lower numbers first)', verbose_name='Sort Order')),
                ('is_featured', models.BooleanField(db_index=True, default=False, help_text='Whether this category should be featured prominently', verbose_name='Is Featured')),
                ('is_active', models.BooleanField(db_index=True, default=True, help_text='Whether this category is currently active', verbose_name='Is Active')),
                ('icon_url', models.URLField(blank=True, help_text='URL to category icon image', verbose_name='Icon URL')),
                ('background_color', models.CharField(blank=True, help_text='Hex color code for category background (e.g., #FF5733)', max_length=7, verbose_name='Background Color')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Created At')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Updated At')),
            ],
            options={
                'verbose_name': 'Template Category',
                'verbose_name_plural': 'Template Categories',
                'db_table': 'theme_template_categories',
                'ordering': ['sort_order', 'name'],
                'indexes': [models.Index(fields=['slug'], name='theme_templ_slug_a0b29c_idx'), models.Index(fields=['template_type'], name='theme_templ_templat_0d5d44_idx'), models.Index(fields=['is_featured'], name='theme_templ_is_feat_4e1752_idx'), models.Index(fields=['is_active'], name='theme_templ_is_acti_f9e932_idx'), models.Index(fields=['sort_order'], name='theme_templ_sort_or_ccad29_idx')],
            },
        ),
        migrations.CreateModel(
            name='TemplateCustomization',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, help_text='Unique identifier for the customization', primary_key=True, serialize=False, verbose_name='Customization ID')),
                ('theme_name', models.CharField(help_text='User-friendly name for this theme (can be renamed)', max_length=255, verbose_name='Theme Name')),
                ('puck_config', models.JSONField(default=dict, help_text='User customizations stored as Puck configuration', verbose_name='Puck Configuration')),
                ('puck_data', models.JSONField(default=dict, help_text='Current page layout and content data for Puck editor', verbose_name='Puck Data')),
                ('is_active', models.BooleanField(db_index=True, default=False, help_text='Whether this theme is currently published and live on the workspace', verbose_name='Is Active')),
                ('published_at', models.DateTimeField(blank=True, db_index=True, help_text='When this customization was last published to production', null=True, verbose_name='Published At')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Created At')),
                ('last_edited_at', models.DateTimeField(auto_now=True, help_text='When customization was last modified', verbose_name='Last Edited At')),
                ('created_by', models.ForeignKey(help_text='User who created this customization', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_customizations', to=settings.AUTH_USER_MODEL, verbose_name='Created By')),
                ('last_modified_by', models.ForeignKey(help_text='User who last modified this customization', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='modified_customizations', to=settings.AUTH_USER_MODEL, verbose_name='Last Modified By')),
                ('template', models.ForeignKey(help_text='Master template being customized', on_delete=django.db.models.deletion.CASCADE, related_name='customizations', to='theme.template', verbose_name='Template')),
                ('workspace', models.ForeignKey(help_text='Workspace this customization belongs to', on_delete=django.db.models.deletion.CASCADE, related_name='template_customizations', to='workspace_core.workspace', verbose_name='Workspace')),
            ],
            options={
                'verbose_name': 'Template Customization',
                'verbose_name_plural': 'Template Customizations',
                'db_table': 'theme_template_customizations',
                'ordering': ['workspace', '-last_edited_at'],
            },
        ),
        migrations.CreateModel(
            name='CustomizationHistory',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, help_text='Unique identifier for the customization history entry', primary_key=True, serialize=False, verbose_name='History ID')),
                ('action', models.CharField(choices=[('create', 'Create'), ('update', 'Update'), ('delete', 'Delete'), ('publish', 'Publish'), ('archive', 'Archive'), ('deploy', 'Deploy (Legacy)'), ('revert', 'Revert'), ('preview', 'Set Preview')], db_index=True, help_text='Type of action performed', max_length=20, verbose_name='Action')),
                ('change_type', models.CharField(choices=[('puck', 'Puck Configuration'), ('css', 'Custom CSS'), ('js', 'Custom JavaScript'), ('status', 'Status'), ('role', 'Role'), ('multiple', 'Multiple Changes')], db_index=True, help_text='Type of change made', max_length=20, verbose_name='Change Type')),
                ('old_values', models.JSONField(blank=True, help_text='Previous values before the change', null=True, verbose_name='Old Values')),
                ('new_values', models.JSONField(blank=True, help_text='New values after the change', null=True, verbose_name='New Values')),
                ('changes_summary', models.JSONField(default=dict, help_text='Summary of what changed in this action', verbose_name='Changes Summary')),
                ('user_agent', models.TextField(blank=True, help_text='User agent string from the request', verbose_name='User Agent')),
                ('ip_address', models.GenericIPAddressField(blank=True, help_text='IP address of the user', null=True, verbose_name='IP Address')),
                ('session_id', models.CharField(blank=True, help_text='User session identifier', max_length=100, verbose_name='Session ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Created At')),
                ('user', models.ForeignKey(help_text='User who performed the action', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='customization_history_entries', to=settings.AUTH_USER_MODEL, verbose_name='User')),
                ('customization', models.ForeignKey(help_text='Customization this history entry belongs to', on_delete=django.db.models.deletion.CASCADE, related_name='history_entries', to='theme.templatecustomization', verbose_name='Customization')),
            ],
            options={
                'verbose_name': 'Customization History',
                'verbose_name_plural': 'Customization History',
                'db_table': 'theme_customization_history',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='TemplateVersion',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, help_text='Unique identifier for the template version', primary_key=True, serialize=False, verbose_name='Version ID')),
                ('version', models.CharField(help_text='Semantic version (e.g., 1.0.0, 1.1.0)', max_length=20, verbose_name='Version')),
                ('status', models.CharField(choices=[('draft', 'Draft'), ('active', 'Active'), ('deprecated', 'Deprecated')], db_index=True, default='draft', help_text='Current status of this version', max_length=20, verbose_name='Status')),
                ('changelog', models.TextField(blank=True, help_text='What changed in this version', verbose_name='Changelog')),
                ('breaking_changes', models.BooleanField(default=False, help_text='Whether this version contains breaking changes', verbose_name='Breaking Changes')),
                ('cdn_path', models.CharField(help_text='CDN path for this specific version', max_length=500, verbose_name='CDN Path')),
                ('puck_config', models.JSONField(default=dict, help_text='Puck configuration for this version', verbose_name='Puck Configuration')),
                ('git_commit_hash', models.CharField(blank=True, help_text='Git commit hash for this version', max_length=40, verbose_name='Git Commit Hash')),
                ('git_tag', models.CharField(blank=True, help_text='Git tag for this version', max_length=100, verbose_name='Git Tag')),
                ('min_workspace_version', models.CharField(blank=True, help_text='Minimum workspace system version required', max_length=20, verbose_name='Minimum Workspace Version')),
                ('dependencies', models.JSONField(default=list, help_text='List of required dependencies/packages', verbose_name='Dependencies')),
                ('file_size', models.PositiveIntegerField(default=0, help_text='Total file size in bytes', verbose_name='File Size')),
                ('load_time', models.FloatField(default=0.0, help_text='Average load time in seconds', verbose_name='Load Time')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('deployed_at', models.DateTimeField(blank=True, null=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_template_versions', to=settings.AUTH_USER_MODEL)),
                ('template', models.ForeignKey(help_text='Parent template this version belongs to', on_delete=django.db.models.deletion.CASCADE, related_name='versions', to='theme.template', verbose_name='Template')),
            ],
            options={
                'db_table': 'theme_template_versions',
                'ordering': ['template', '-created_at'],
            },
        ),
        migrations.AddField(
            model_name='templatecustomization',
            name='template_version',
            field=models.ForeignKey(blank=True, help_text='Specific template version being customized (optional)', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='customizations', to='theme.templateversion', verbose_name='Template Version'),
        ),
        migrations.CreateModel(
            name='TemplateAsset',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, help_text='Unique identifier for the template asset', primary_key=True, serialize=False, verbose_name='Asset ID')),
                ('file_name', models.CharField(db_index=True, help_text='Name of the asset file', max_length=255, verbose_name='File Name')),
                ('file_path', models.CharField(help_text='Relative path to the asset within the template', max_length=500, verbose_name='File Path')),
                ('asset_type', models.CharField(choices=[('image', 'Image'), ('stylesheet', 'Stylesheet'), ('script', 'Script'), ('config', 'Configuration'), ('font', 'Font'), ('other', 'Other')], db_index=True, default='other', help_text='Type of asset file', max_length=20, verbose_name='Asset Type')),
                ('file_size', models.PositiveIntegerField(default=0, help_text='Size of the asset file in bytes', verbose_name='File Size')),
                ('mime_type', models.CharField(blank=True, help_text='MIME type of the asset file', max_length=100, verbose_name='MIME Type')),
                ('checksum', models.CharField(blank=True, help_text='SHA-256 checksum for file integrity verification', max_length=64, verbose_name='Checksum')),
                ('cdn_url', models.URLField(blank=True, help_text='Full CDN URL for accessing this asset', max_length=500, verbose_name='CDN URL')),
                ('cdn_path', models.CharField(blank=True, help_text='CDN path relative to template version', max_length=500, verbose_name='CDN Path')),
                ('status', models.CharField(choices=[('active', 'Active'), ('deprecated', 'Deprecated'), ('deleted', 'Deleted')], db_index=True, default='active', help_text='Current status of the asset', max_length=20, verbose_name='Status')),
                ('is_required', models.BooleanField(default=False, help_text='Whether this asset is required for the template to function', verbose_name='Is Required')),
                ('is_public', models.BooleanField(default=True, help_text='Whether this asset is publicly accessible', verbose_name='Is Public')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Created At')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Updated At')),
                ('created_by', models.ForeignKey(help_text='User who created this asset', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_template_assets', to=settings.AUTH_USER_MODEL, verbose_name='Created By')),
                ('template', models.ForeignKey(help_text='Parent template this asset belongs to', on_delete=django.db.models.deletion.CASCADE, related_name='assets', to='theme.template', verbose_name='Template')),
                ('version', models.ForeignKey(help_text='Specific template version this asset belongs to', on_delete=django.db.models.deletion.CASCADE, related_name='assets', to='theme.templateversion', verbose_name='Template Version')),
            ],
            options={
                'verbose_name': 'Template Asset',
                'verbose_name_plural': 'Template Assets',
                'db_table': 'theme_template_assets',
                'ordering': ['template', 'version', 'asset_type', 'file_path'],
            },
        ),
        migrations.CreateModel(
            name='UpdateNotification',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('update_type', models.CharField(choices=[('minor', 'Minor Update'), ('major', 'Major Update'), ('security', 'Security Update'), ('breaking', 'Breaking Change')], db_index=True, default='minor', help_text='Type of update (minor, major, security, breaking)', max_length=20, verbose_name='Update Type')),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('sent', 'Sent'), ('read', 'Read'), ('dismissed', 'Dismissed'), ('accepted', 'Accepted')], db_index=True, default='pending', help_text='Current status of the notification', max_length=20, verbose_name='Status')),
                ('changelog', models.TextField(blank=True, help_text="What's new in this update", verbose_name='Changelog')),
                ('breaking_changes', models.TextField(blank=True, help_text='List of breaking changes that may affect customizations', verbose_name='Breaking Changes')),
                ('estimated_update_time', models.PositiveIntegerField(default=5, help_text='Estimated time to complete update in minutes', verbose_name='Estimated Update Time')),
                ('customization_preservation_score', models.PositiveSmallIntegerField(default=100, help_text='Percentage of customizations expected to be preserved (0-100)', verbose_name='Customization Preservation Score')),
                ('notification_sent_at', models.DateTimeField(blank=True, help_text='When the notification was sent to the user', null=True, verbose_name='Notification Sent At')),
                ('first_seen_at', models.DateTimeField(blank=True, help_text='When the user first saw the notification', null=True, verbose_name='First Seen At')),
                ('dismissed_at', models.DateTimeField(blank=True, help_text='When the user dismissed the notification', null=True, verbose_name='Dismissed At')),
                ('accepted_at', models.DateTimeField(blank=True, help_text='When the user accepted the update', null=True, verbose_name='Accepted At')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Created At')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Updated At')),
                ('current_version', models.ForeignKey(help_text='Version currently being used', on_delete=django.db.models.deletion.CASCADE, related_name='current_notifications', to='theme.templateversion', verbose_name='Current Version')),
                ('new_version', models.ForeignKey(help_text='New version available for update', on_delete=django.db.models.deletion.CASCADE, related_name='new_notifications', to='theme.templateversion', verbose_name='New Version')),
                ('template', models.ForeignKey(help_text='Template that has an available update', on_delete=django.db.models.deletion.CASCADE, related_name='update_notifications', to='theme.template', verbose_name='Template')),
                ('user', models.ForeignKey(help_text='User who should receive the update notification', on_delete=django.db.models.deletion.CASCADE, related_name='update_notifications', to=settings.AUTH_USER_MODEL, verbose_name='User')),
                ('workspace', models.ForeignKey(help_text='Workspace where the template is used', on_delete=django.db.models.deletion.CASCADE, related_name='update_notifications', to='workspace_core.workspace', verbose_name='Workspace')),
            ],
            options={
                'verbose_name': 'Update Notification',
                'verbose_name_plural': 'Update Notifications',
                'db_table': 'theme_update_notifications',
                'ordering': ['-created_at'],
            },
        ),
        migrations.AddIndex(
            model_name='template',
            index=models.Index(fields=['slug'], name='theme_templ_slug_a65af3_idx'),
        ),
        migrations.AddIndex(
            model_name='template',
            index=models.Index(fields=['template_type'], name='theme_templ_templat_ccc591_idx'),
        ),
        migrations.AddIndex(
            model_name='template',
            index=models.Index(fields=['price_tier'], name='theme_templ_price_t_e69266_idx'),
        ),
        migrations.AddIndex(
            model_name='template',
            index=models.Index(fields=['status'], name='theme_templ_status_3df7f0_idx'),
        ),
        migrations.AddIndex(
            model_name='synclog',
            index=models.Index(fields=['template', 'status'], name='theme_sync__templat_a5ed1a_idx'),
        ),
        migrations.AddIndex(
            model_name='synclog',
            index=models.Index(fields=['sync_type'], name='theme_sync__sync_ty_c2bd14_idx'),
        ),
        migrations.AddIndex(
            model_name='synclog',
            index=models.Index(fields=['status'], name='theme_sync__status_ed254a_idx'),
        ),
        migrations.AddIndex(
            model_name='synclog',
            index=models.Index(fields=['created_at'], name='theme_sync__created_2d4ce5_idx'),
        ),
        migrations.AddIndex(
            model_name='customizationhistory',
            index=models.Index(fields=['customization', 'created_at'], name='theme_custo_customi_696dce_idx'),
        ),
        migrations.AddIndex(
            model_name='customizationhistory',
            index=models.Index(fields=['action'], name='theme_custo_action_14cd1d_idx'),
        ),
        migrations.AddIndex(
            model_name='customizationhistory',
            index=models.Index(fields=['change_type'], name='theme_custo_change__138554_idx'),
        ),
        migrations.AddIndex(
            model_name='customizationhistory',
            index=models.Index(fields=['user', 'created_at'], name='theme_custo_user_id_899aab_idx'),
        ),
        migrations.AddIndex(
            model_name='customizationhistory',
            index=models.Index(fields=['created_at'], name='theme_custo_created_79b46f_idx'),
        ),
        migrations.AddIndex(
            model_name='templateversion',
            index=models.Index(fields=['template', 'version'], name='theme_templ_templat_51060c_idx'),
        ),
        migrations.AddIndex(
            model_name='templateversion',
            index=models.Index(fields=['status'], name='theme_templ_status_ad5653_idx'),
        ),
        migrations.AddIndex(
            model_name='templateversion',
            index=models.Index(fields=['created_at'], name='theme_templ_created_3198dd_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='templateversion',
            unique_together={('template', 'version')},
        ),
        migrations.AddIndex(
            model_name='templatecustomization',
            index=models.Index(fields=['workspace', 'template'], name='theme_templ_workspa_011063_idx'),
        ),
        migrations.AddIndex(
            model_name='templatecustomization',
            index=models.Index(fields=['workspace', 'is_active'], name='theme_templ_workspa_51eb71_idx'),
        ),
        migrations.AddIndex(
            model_name='templatecustomization',
            index=models.Index(fields=['published_at'], name='theme_templ_publish_600435_idx'),
        ),
        migrations.AddIndex(
            model_name='templatecustomization',
            index=models.Index(fields=['last_edited_at'], name='theme_templ_last_ed_617446_idx'),
        ),
        migrations.AddConstraint(
            model_name='templatecustomization',
            constraint=models.UniqueConstraint(condition=models.Q(('is_active', True)), fields=('workspace',), name='unique_active_theme_per_workspace'),
        ),
        migrations.AddIndex(
            model_name='templateasset',
            index=models.Index(fields=['template', 'version'], name='theme_templ_templat_0b22e4_idx'),
        ),
        migrations.AddIndex(
            model_name='templateasset',
            index=models.Index(fields=['asset_type'], name='theme_templ_asset_t_c37b5b_idx'),
        ),
        migrations.AddIndex(
            model_name='templateasset',
            index=models.Index(fields=['status'], name='theme_templ_status_680fe6_idx'),
        ),
        migrations.AddIndex(
            model_name='templateasset',
            index=models.Index(fields=['file_name'], name='theme_templ_file_na_6e765b_idx'),
        ),
        migrations.AddIndex(
            model_name='templateasset',
            index=models.Index(fields=['created_at'], name='theme_templ_created_40b88c_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='templateasset',
            unique_together={('template', 'version', 'file_path')},
        ),
        migrations.AddIndex(
            model_name='updatenotification',
            index=models.Index(fields=['template', 'user', 'status'], name='theme_updat_templat_3d5baf_idx'),
        ),
        migrations.AddIndex(
            model_name='updatenotification',
            index=models.Index(fields=['workspace', 'status'], name='theme_updat_workspa_93d0e4_idx'),
        ),
        migrations.AddIndex(
            model_name='updatenotification',
            index=models.Index(fields=['update_type'], name='theme_updat_update__7c167e_idx'),
        ),
        migrations.AddIndex(
            model_name='updatenotification',
            index=models.Index(fields=['status'], name='theme_updat_status_35e1fb_idx'),
        ),
        migrations.AddIndex(
            model_name='updatenotification',
            index=models.Index(fields=['created_at'], name='theme_updat_created_77faa2_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='updatenotification',
            unique_together={('template', 'user', 'workspace', 'new_version')},
        ),
    ]
